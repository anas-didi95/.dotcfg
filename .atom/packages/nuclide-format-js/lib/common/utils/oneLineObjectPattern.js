'use strict';

var _jscodeshift = require('jscodeshift');

var _jscodeshift2 = _interopRequireDefault(_jscodeshift);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * This is a hack to force an ObjectPattern node to be printed on one line
 */
/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 *
 * 
 */

function oneLineObjectPattern(node) {
  if (!_jscodeshift2.default.ObjectPattern.check(node)) {
    return node;
  }

  var props = node.properties;
  if (!props.every(function (prop) {
    return prop.shorthand && _jscodeshift2.default.Identifier.check(prop.key);
  })) {
    return node;
  }

  var mySource = 'var {' + props.map(function (prop) {
    return prop.key.name;
  }).join(', ') + '} = _;';
  var myAst = (0, _jscodeshift2.default)(mySource);
  return myAst.find(_jscodeshift2.default.ObjectPattern).nodes()[0];
}

module.exports = oneLineObjectPattern;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vdXRpbHMvb25lTGluZU9iamVjdFBhdHRlcm4uanMiXSwibmFtZXMiOlsib25lTGluZU9iamVjdFBhdHRlcm4iLCJub2RlIiwiT2JqZWN0UGF0dGVybiIsImNoZWNrIiwicHJvcHMiLCJwcm9wZXJ0aWVzIiwiZXZlcnkiLCJwcm9wIiwic2hvcnRoYW5kIiwiSWRlbnRpZmllciIsImtleSIsIm15U291cmNlIiwibWFwIiwibmFtZSIsImpvaW4iLCJteUFzdCIsImZpbmQiLCJub2RlcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBWUE7Ozs7OztBQUVBOzs7QUFkQTs7Ozs7Ozs7OztBQWlCQSxTQUFTQSxvQkFBVCxDQUE4QkMsSUFBOUIsRUFBZ0Q7QUFDOUMsTUFBSSxDQUFDLHNCQUFLQyxhQUFMLENBQW1CQyxLQUFuQixDQUF5QkYsSUFBekIsQ0FBTCxFQUFxQztBQUNuQyxXQUFPQSxJQUFQO0FBQ0Q7O0FBRUQsTUFBTUcsUUFBUUgsS0FBS0ksVUFBbkI7QUFDQSxNQUFJLENBQUNELE1BQU1FLEtBQU4sQ0FBWTtBQUFBLFdBQVFDLEtBQUtDLFNBQUwsSUFBa0Isc0JBQUtDLFVBQUwsQ0FBZ0JOLEtBQWhCLENBQXNCSSxLQUFLRyxHQUEzQixDQUExQjtBQUFBLEdBQVosQ0FBTCxFQUE2RTtBQUMzRSxXQUFPVCxJQUFQO0FBQ0Q7O0FBRUQsTUFBTVUsV0FDSixVQUNBUCxNQUFNUSxHQUFOLENBQVU7QUFBQSxXQUFRTCxLQUFLRyxHQUFMLENBQVNHLElBQWpCO0FBQUEsR0FBVixFQUFpQ0MsSUFBakMsQ0FBc0MsSUFBdEMsQ0FEQSxHQUVBLFFBSEY7QUFJQSxNQUFNQyxRQUFRLDJCQUFLSixRQUFMLENBQWQ7QUFDQSxTQUFPSSxNQUFNQyxJQUFOLENBQVcsc0JBQUtkLGFBQWhCLEVBQStCZSxLQUEvQixHQUF1QyxDQUF2QyxDQUFQO0FBQ0Q7O0FBRURDLE9BQU9DLE9BQVAsR0FBaUJuQixvQkFBakIiLCJmaWxlIjoib25lTGluZU9iamVjdFBhdHRlcm4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqL1xuXG5pbXBvcnQgdHlwZSB7Tm9kZX0gZnJvbSAnLi4vdHlwZXMvYXN0JztcblxuaW1wb3J0IGpzY3MgZnJvbSAnanNjb2Rlc2hpZnQnO1xuXG4vKipcbiAqIFRoaXMgaXMgYSBoYWNrIHRvIGZvcmNlIGFuIE9iamVjdFBhdHRlcm4gbm9kZSB0byBiZSBwcmludGVkIG9uIG9uZSBsaW5lXG4gKi9cbmZ1bmN0aW9uIG9uZUxpbmVPYmplY3RQYXR0ZXJuKG5vZGU6IE5vZGUpOiBOb2RlIHtcbiAgaWYgKCFqc2NzLk9iamVjdFBhdHRlcm4uY2hlY2sobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGNvbnN0IHByb3BzID0gbm9kZS5wcm9wZXJ0aWVzO1xuICBpZiAoIXByb3BzLmV2ZXJ5KHByb3AgPT4gcHJvcC5zaG9ydGhhbmQgJiYganNjcy5JZGVudGlmaWVyLmNoZWNrKHByb3Aua2V5KSkpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGNvbnN0IG15U291cmNlID1cbiAgICAndmFyIHsnICtcbiAgICBwcm9wcy5tYXAocHJvcCA9PiBwcm9wLmtleS5uYW1lKS5qb2luKCcsICcpICtcbiAgICAnfSA9IF87JztcbiAgY29uc3QgbXlBc3QgPSBqc2NzKG15U291cmNlKTtcbiAgcmV0dXJuIG15QXN0LmZpbmQoanNjcy5PYmplY3RQYXR0ZXJuKS5ub2RlcygpWzBdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9uZUxpbmVPYmplY3RQYXR0ZXJuO1xuIl19